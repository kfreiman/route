(function(){var e="route",n={"riot-observable":"observable"};var t=typeof define==="function"&&define.amd?define:function(e){var t=typeof exports==="object"&&!exports.nodeType,r=t?require:function(e){return window[n[e]||e]},o=t?module:{_g:true};e(r,0,o)};t(function(n,t,r){var o=n("riot-observable");var i="hashchange",f=window,u=f.location,a=false,c=o(),s,l="#";function p(){return u.href.replace(/^.+?\/+[^\/]+/,"")}function v(){return p().replace(d(),"")}function d(){return(p().split(l)[0]||"")+l}function b(e){return e.split("/")}function w(e){if(e.type)e=v();if(e!=s){c.trigger.apply(null,["H"].concat(b(e)));s=e;u.href=d()+s}}var y=function(e){if(e[0]){w(e)}else{c.on("H",e)}};y.exec=function(e){e.apply(null,b(v()))};y.base=function(e){l=e};y.parser=function(e){b=e};y.stop=function(){if(a){f.removeEventListener(i,w,false);c.off("*");a=false}};y.start=function(){if(!a){f.addEventListener(i,w,false);a=true}};y.start();r.exports=y;if(r._g)window[e]=r.exports})})();